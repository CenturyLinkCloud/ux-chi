ul.chi-tabs.-vertical.-lg.-animated
  each collection, key in collections
    if utils.hasActiveSections(collection)
      if utils.isCurrentCollection(collection, path)
        li.-active
          .chi-collection__title
            =key
          if utils.hasSections(collection)
            ul.chi-tabs__subtabs
              each section in collection
                if section.disabled
                  //- li
                  //-   a(href=`${rootPath}${section.path}`, disabled="disabled") #{section.title}
                else if section.accessibilityAccordion
                  li
                    .chi-accordion.accessibility-accordion
                      .chi-accordion__item.-expanded
                        button.chi-accordion__trigger
                          .chi-accordion__title #{section.title}
                          i.chi-icon.icon-chevron-down.-xs
                        .chi-accordion__content.-p--0
                          ul.chi-tabs__subtabs
                            li(class=`${'foundations/accessibility/overview' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/overview`) Overview
                            li(class=`${'foundations/accessibility/using-keyboard' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/using-keyboard`) Using the keyboard
                            li(class=`${'foundations/accessibility/page-structure' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/page-structure`) Page structure
                            li(class=`${'foundations/accessibility/color-sensory' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/color-sensory`) Color and sensory
                            li(class=`${'foundations/accessibility/images' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/images`) Images
                            li(class=`${'foundations/accessibility/text' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/text`) Text
                            li(class=`${'foundations/accessibility/links-and-forms' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/links-and-forms`) Links and forms
                            li(class=`${'foundations/accessibility/tables' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/tables`) Tables
                            li(class=`${'foundations/accessibility/other' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/other`) Other
                            
                else
                  li(class=section.path === path ? "-active" : "")
                    a(href=`${rootPath}${section.path}`) #{section.title}
                      if section.title == 'Button'
                        .-sr--only component
      else
        li
          .chi-collection__title
            =key
          if utils.hasSections(collection)
            ul.chi-tabs__subtabs
              each section in collection
                if section.disabled
                  //- li
                  //-   a(href=`${rootPath}${section.path}`, disabled="disabled") #{section.title}
                else if section.accessibilityAccordion
                  li
                    .chi-accordion.accessibility-accordion
                      .chi-accordion__item
                        button.chi-accordion__trigger
                          .chi-accordion__title #{section.title}
                          i.chi-icon.icon-chevron-down.-xs
                        .chi-accordion__content.-p--0
                          ul.chi-tabs__subtabs
                            li(class=`${'foundations/accessibility/overview' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/overview`) Overview
                            li(class=`${'foundations/accessibility/using-keyboard' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/using-keyboard`) Using the keyboard
                            li(class=`${'foundations/accessibility/page-structure' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/page-structure`) Page structure
                            li(class=`${'foundations/accessibility/color-sensory' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/color-sensory`) Color and sensory
                            li(class=`${'foundations/accessibility/images' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/images`) Images
                            li(class=`${'foundations/accessibility/text' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/text`) Text
                            li(class=`${'foundations/accessibility/links-and-forms' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/links-and-forms`) Links and forms
                            li(class=`${'foundations/accessibility/tables' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/tables`) Tables
                            li(class=`${'foundations/accessibility/other' === path ? "-active" : ""}`)
                              a(href=`${rootPath}foundations/accessibility/other`) Other
                else
                  li(class=section.path === path ? "-active" : "")
                    a(href=`${rootPath}${section.path}`) #{section.title}
                      if section.title == 'Button'
                        .-sr--only component
    else
      li
        a(href=`#`, disabled="disabled") #{key}
